{"ast":null,"code":"import _toConsumableArray from\"C:/Users/elisk/OneDrive/Dokumenty/IT_kurzy/Codecademy/projects/jamming-reactapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/elisk/OneDrive/Dokumenty/IT_kurzy/Codecademy/projects/jamming-reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback}from'react';import'./App.css';import SearchBar from'./components/SearchBar';import SearchResults from'./components/SearchResults';import Playlist from'./components/Playlist';import Spotify from'./util/Spotify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchResults=_useState2[0],setSearchResults=_useState2[1];var _useState3=useState(\"New Playlist\"),_useState4=_slicedToArray(_useState3,2),playlistName=_useState4[0],setPlaylistName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),playlistTracks=_useState6[0],setPlaylistTracks=_useState6[1];var _useState7=useState(\"user name\"),_useState8=_slicedToArray(_useState7,2),userName=_useState8[0],setUserName=_useState8[1];var _useState9=useState(\"profile Img\"),_useState10=_slicedToArray(_useState9,2),userImg=_useState10[0],setUserImg=_useState10[1];var search=useCallback(function(term){Spotify.search(term).then(setSearchResults);},[]);var addTrack=useCallback(function(track){if(playlistTracks.some(function(savedTrack){return savedTrack.id===track.id;}))return;setPlaylistTracks(function(prevTracks){return[].concat(_toConsumableArray(prevTracks),[track]);});},[playlistTracks]);var removeTrack=useCallback(function(track){setPlaylistTracks(function(prevTracks){return prevTracks.filter(function(currentTrack){return currentTrack.id!==track.id;});});},[]);var updatePlaylistName=useCallback(function(name){setPlaylistName(name);},[]);var savePlaylist=useCallback(function(){var trackUris=playlistTracks.map(function(track){return track.uri;});Spotify.savePlaylist(playlistName,trackUris).then(function(){setPlaylistName(\"New Playlist\");setPlaylistTracks([]);});},[playlistName,playlistTracks]);var getUser=useCallback(function(){// tady tahám data uživatele a ustanovuji jeho přihlášené jméno\nSpotify.getUser().then(function(userData){var _userData$images$;setUserName(userData.id);setUserImg((_userData$images$=userData.images[0])===null||_userData$images$===void 0?void 0:_userData$images$.url);}).catch(function(error){console.error('Error fetching user data',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"Jamming\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Jamming\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SearchBar,{onSearch:search})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ColumnsContainer\",children:[/*#__PURE__*/_jsx(SearchResults,{className:\"SearchResults\",searchResults:searchResults,onAdd:addTrack}),/*#__PURE__*/_jsx(Playlist,{className:\"Playlist\",playlistName:playlistName,playlistTracks:playlistTracks,onNameChange:updatePlaylistName,onRemove:removeTrack,onSave:savePlaylist,onLogin:getUser,userName:userName,userImg:userImg})]})]});};export default App;","map":{"version":3,"names":["React","useState","useCallback","SearchBar","SearchResults","Playlist","Spotify","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useState3","_useState4","playlistName","setPlaylistName","_useState5","_useState6","playlistTracks","setPlaylistTracks","_useState7","_useState8","userName","setUserName","_useState9","_useState10","userImg","setUserImg","search","term","then","addTrack","track","some","savedTrack","id","prevTracks","concat","_toConsumableArray","removeTrack","filter","currentTrack","updatePlaylistName","name","savePlaylist","trackUris","map","uri","getUser","userData","_userData$images$","images","url","catch","error","console","className","children","onSearch","onAdd","onNameChange","onRemove","onSave","onLogin"],"sources":["C:/Users/elisk/OneDrive/Dokumenty/IT_kurzy/Codecademy/projects/jamming-reactapp/src/App.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\n\r\nimport './App.css';\r\n\r\nimport SearchBar from './components/SearchBar';\r\nimport SearchResults from './components/SearchResults';\r\nimport Playlist from './components/Playlist';\r\nimport Spotify from './util/Spotify';\r\n\r\nfunction App() {\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [playlistName, setPlaylistName] = useState(\"New Playlist\");\r\n  const [playlistTracks, setPlaylistTracks] = useState([]);\r\n  const [userName, setUserName] = useState(\"user name\");\r\n  const [userImg, setUserImg] = useState(\"profile Img\");\r\n\r\n  const search = useCallback((term) => {\r\n    Spotify.search(term).then(setSearchResults);\r\n  }, []);\r\n\r\n  const addTrack = useCallback(\r\n    (track) => {\r\n      if (playlistTracks.some((savedTrack) => savedTrack.id === track.id))\r\n        return;\r\n\r\n      setPlaylistTracks((prevTracks) => [...prevTracks, track]);\r\n    },\r\n    [playlistTracks]\r\n  );\r\n\r\n  const removeTrack = useCallback((track) =>{\r\n    setPlaylistTracks((prevTracks) =>\r\n      prevTracks.filter((currentTrack) => currentTrack.id !== track.id)\r\n      );\r\n  }, []);\r\n\r\n  const updatePlaylistName = useCallback((name) => {\r\n    setPlaylistName(name);\r\n  }, []);\r\n\r\n  const savePlaylist = useCallback(() => {\r\n    const trackUris = playlistTracks.map((track) => track.uri);\r\n    Spotify.savePlaylist(playlistName, trackUris).then(() => {\r\n      setPlaylistName(\"New Playlist\");\r\n      setPlaylistTracks([]);\r\n    });\r\n  }, [playlistName, playlistTracks]);\r\n\r\n\r\n  const getUser = useCallback(() => {\r\n    // tady tahám data uživatele a ustanovuji jeho přihlášené jméno\r\n    Spotify.getUser().then((userData) => {\r\n      setUserName(userData.id);\r\n      setUserImg(userData.images[0]?.url);\r\n    }).catch(error => {\r\n      console.error('Error fetching user data', error);\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <div className='App'>\r\n      <header className='Jamming'>\r\n        <h1>Jamming</h1>\r\n      </header>\r\n      <div>\r\n        <SearchBar onSearch={search}/>\r\n      </div>\r\n      <div className='ColumnsContainer'>\r\n        <SearchResults className='SearchResults' searchResults={searchResults} onAdd={addTrack} />\r\n        <Playlist \r\n          className='Playlist' \r\n          playlistName={playlistName}\r\n          playlistTracks={playlistTracks}\r\n          onNameChange={updatePlaylistName}\r\n          onRemove={removeTrack}\r\n          onSave={savePlaylist}\r\n          onLogin={getUser}\r\n          userName={userName}\r\n          userImg={userImg}\r\n        />\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}